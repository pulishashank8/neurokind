{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/app/theme-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useCallback, useContext, useEffect, useMemo, useState, ReactNode } from \"react\";\n\ntype Theme = \"light\" | \"dark\";\n\ninterface ThemeContextType {\n  theme: Theme;\n  toggleTheme: () => void;\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({ children }: Readonly<{ children: ReactNode }>) {\n  const [theme, setTheme] = useState<Theme>(\"light\");\n  const [mounted, setMounted] = useState(false);\n\n  const applyTheme = useCallback((newTheme: Theme) => {\n    const root = document.documentElement;\n    \n    if (newTheme === \"dark\") {\n      root.classList.add(\"dark\");\n    } else {\n      root.classList.remove(\"dark\");\n    }\n    \n    localStorage.setItem(\"neurokind-theme\", newTheme);\n  }, []);\n\n  const toggleTheme = useCallback(() => {\n    const newTheme = theme === \"light\" ? \"dark\" : \"light\";\n    setTheme(newTheme);\n    applyTheme(newTheme);\n  }, [applyTheme, theme]);\n\n  // Initialize theme on mount (client-side only)\n  useEffect(() => {\n    // Check localStorage first\n    const savedTheme = localStorage.getItem(\"neurokind-theme\") as Theme | null;\n    \n    // Check system preference\n    const prefersDark = globalThis.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n    \n    // Use saved theme, or fall back to system preference\n    const initialTheme = savedTheme || (prefersDark ? \"dark\" : \"light\");\n    \n    setTheme(initialTheme);\n    applyTheme(initialTheme);\n    setMounted(true);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Memoize context value to prevent unnecessary re-renders\n  const contextValue = useMemo(() => ({ theme, toggleTheme }), [theme, toggleTheme]);\n\n  // Prevent hydration mismatch: don't render until client is ready\n  if (!mounted) {\n    return <>{children}</>;\n  }\n\n  return (\n    <ThemeContext.Provider value={contextValue}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport function useTheme() {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    // Return default context if not available (during SSR/build)\n    return {\n      theme: \"light\" as Theme,\n      toggleTheme: () => {/* noop during SSR */},\n    };\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAWA,MAAM,6BAAe,IAAA,8KAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAAqC;;IAC3E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAQ;IAC1C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,aAAa,IAAA,4KAAW;iDAAC,CAAC;YAC9B,MAAM,OAAO,SAAS,eAAe;YAErC,IAAI,aAAa,QAAQ;gBACvB,KAAK,SAAS,CAAC,GAAG,CAAC;YACrB,OAAO;gBACL,KAAK,SAAS,CAAC,MAAM,CAAC;YACxB;YAEA,aAAa,OAAO,CAAC,mBAAmB;QAC1C;gDAAG,EAAE;IAEL,MAAM,cAAc,IAAA,4KAAW;kDAAC;YAC9B,MAAM,WAAW,UAAU,UAAU,SAAS;YAC9C,SAAS;YACT,WAAW;QACb;iDAAG;QAAC;QAAY;KAAM;IAEtB,+CAA+C;IAC/C,IAAA,0KAAS;mCAAC;YACR,2BAA2B;YAC3B,MAAM,aAAa,aAAa,OAAO,CAAC;YAExC,0BAA0B;YAC1B,MAAM,cAAc,WAAW,UAAU,CAAC,gCAAgC,OAAO;YAEjF,qDAAqD;YACrD,MAAM,eAAe,cAAc,CAAC,cAAc,SAAS,OAAO;YAElE,SAAS;YACT,WAAW;YACX,WAAW;QACb,uDAAuD;QACvD;kCAAG,EAAE;IAEL,0DAA0D;IAC1D,MAAM,eAAe,IAAA,wKAAO;+CAAC,IAAM,CAAC;gBAAE;gBAAO;YAAY,CAAC;8CAAG;QAAC;QAAO;KAAY;IAEjF,iEAAiE;IACjE,IAAI,CAAC,SAAS;QACZ,qBAAO;sBAAG;;IACZ;IAEA,qBACE,6LAAC,aAAa,QAAQ;QAAC,OAAO;kBAC3B;;;;;;AAGP;GApDgB;KAAA;AAsDT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,6DAA6D;QAC7D,OAAO;YACL,OAAO;YACP,aAAa,KAA4B;QAC3C;IACF;IACA,OAAO;AACT;IAVgB"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { useSession, signOut } from \"next-auth/react\";\nimport { useTheme } from \"@/app/theme-provider\";\n\nimport {\n  ChevronDown,\n  Users,\n  Stethoscope,\n  Brain,\n  ClipboardCheck,\n  BookOpen,\n  Shield,\n  Settings,\n  Info,\n  Menu,\n  X,\n  Heart,\n  Phone,\n  Wind,\n  ClipboardList,\n  CreditCard,\n  ShoppingBag,\n  LogOut,\n  Sun,\n  Moon,\n  MessageCircle\n} from \"lucide-react\";\n\ntype SubItem = { href: string; label: string; icon: any; description: string };\ntype NavGroup = { label: string; items: SubItem[] };\n\nconst NAV_GROUPS: NavGroup[] = [\n  {\n    label: \"Community\",\n    items: [\n      { href: \"/community\", label: \"Forums\", icon: Users, description: \"Safe space to share stories\" },\n      { href: \"/messages\", label: \"Messages\", icon: MessageCircle, description: \"Private conversations\" },\n      { href: \"/community?saved=1\", label: \"Saved Posts\", icon: Heart, description: \"Posts you've bookmarked\" },\n    ]\n  },\n  {\n    label: \"Care Compass\",\n    items: [\n      { href: \"/providers\", label: \"Find Care\", icon: Stethoscope, description: \"NPI-verified specialists\" },\n      { href: \"/screening\", label: \"M-CHAT-R/Fâ„¢\", icon: ClipboardCheck, description: \"Validated autism screening\" },\n    ]\n  },\n  {\n    label: \"Support\",\n    items: [\n      { href: \"/calm\", label: \"Calm Tool\", icon: Wind, description: \"Breathing exercises & relaxation\" },\n      { href: \"/crisis\", label: \"Crisis Help\", icon: Phone, description: \"Emergency resources & hotlines\" },\n      { href: \"/therapy-log\", label: \"Therapy Log\", icon: ClipboardList, description: \"Track therapy sessions\" },\n      { href: \"/emergency-card\", label: \"Emergency Cards\", icon: CreditCard, description: \"Printable info cards\" },\n    ]\n  },\n  {\n    label: \"Knowledge\",\n    items: [\n      { href: \"/resources\", label: \"Resources\", icon: BookOpen, description: \"Guides, tools & manuals\" },\n      { href: \"/ai-support\", label: \"AI Companion\", icon: Brain, description: \"24/7 instant guidance\" },\n    ]\n  },\n  {\n    label: \"Platform\",\n    items: [\n      { href: \"/about\", label: \"About Us\", icon: Info, description: \"Our mission & journey\" },\n      { href: \"/marketplace\", label: \"Marketplace\", icon: ShoppingBag, description: \"Curated products & resources\" },\n      { href: \"/trust\", label: \"Trust & Safety\", icon: Shield, description: \"Security & moderation\" },\n      { href: \"/settings\", label: \"Settings\", icon: Settings, description: \"Account preferences\" },\n    ]\n  }\n];\n\nexport default function NavBar() {\n  const pathname = usePathname();\n  const { data: session } = useSession();\n  const { theme, toggleTheme } = useTheme();\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [mounted, setMounted] = useState(false);\n  const [notifications, setNotifications] = useState({ unreadConnectionRequests: 0, unreadMessages: 0, totalUnread: 0 });\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (session?.user) {\n      const fetchNotifications = async () => {\n        try {\n          const res = await fetch(\"/api/notifications\");\n          if (res.ok) {\n            const data = await res.json();\n            setNotifications(data);\n          }\n        } catch (error) {\n          console.error(\"Error fetching notifications:\", error);\n        }\n      };\n      fetchNotifications();\n      const interval = setInterval(fetchNotifications, 30000);\n      return () => clearInterval(interval);\n    }\n  }, [session]);\n\n  // Check if current page is in auth routes (should hide nav)\n  const isAuthPage =\n    pathname?.startsWith(\"/login\") || pathname?.startsWith(\"/register\");\n\n  if (!mounted || isAuthPage) return null;\n\n  return (\n    <>\n      {/* Desktop Navbar */}\n      <nav className=\"sticky top-0 z-40 border-b bg-[var(--surface)] text-[var(--text)] shadow-sm border-[var(--border)]\">\n        <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex h-16 items-center justify-between\">\n            {/* Logo */}\n            <Link href=\"/\" className=\"flex items-center gap-2.5 hover:opacity-90 transition-opacity\">\n              <div className=\"w-9 h-9 rounded-xl overflow-hidden shadow-lg shadow-emerald-500/20\">\n                <img src=\"/logo-icon.png\" alt=\"NeuroKid\" className=\"w-full h-full object-contain\" />\n              </div>\n              <span className=\"hidden text-lg font-bold sm:inline bg-gradient-to-r from-emerald-500 to-teal-500 bg-clip-text text-transparent\">\n                NeuroKid\n              </span>\n            </Link>\n\n            {/* Desktop Menu */}\n            <div className=\"hidden lg:flex items-center gap-2\">\n              <Link\n                href=\"/\"\n                className={`px-3 py-2 rounded-md text-sm font-bold transition-colors ${pathname === \"/\"\n                  ? \"text-[var(--primary)]\"\n                  : \"text-[var(--muted)] hover:text-[var(--text)]\"\n                  }`}\n              >\n                Home\n              </Link>\n\n              {NAV_GROUPS.map((group) => {\n                const isCommunityGroup = group.label === \"Community\";\n                const hasGroupNotification = isCommunityGroup && notifications.totalUnread > 0;\n                return (\n                <div key={group.label} className=\"relative group/nav\">\n                  <button className=\"flex items-center gap-1.5 px-3 py-2 rounded-md text-sm font-bold text-[var(--muted)] group-hover/nav:text-[var(--text)] transition-colors relative\">\n                    {group.label}\n                    {hasGroupNotification && (\n                      <span className=\"absolute -top-0.5 -right-0.5 min-w-[18px] h-[18px] px-1 rounded-full bg-gradient-to-r from-rose-500 to-pink-500 text-white text-[10px] font-bold flex items-center justify-center shadow-sm\">\n                        {notifications.totalUnread > 9 ? \"9+\" : notifications.totalUnread}\n                      </span>\n                    )}\n                    <ChevronDown className=\"w-3.5 h-3.5 opacity-50 group-hover/nav:opacity-100 transition-all group-hover/nav:rotate-180\" />\n                  </button>\n\n                  {/* Dropdown Mega Menu */}\n                  <div className=\"absolute left-1/2 -translate-x-1/2 top-full pt-2 opacity-0 translate-y-2 pointer-events-none group-hover/nav:opacity-100 group-hover/nav:translate-y-0 group-hover/nav:pointer-events-auto transition-all duration-200 z-50\">\n                    <div className=\"w-64 rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-2 shadow-2xl\">\n                      <div className=\"grid gap-1\">\n                        {group.items.map((item) => {\n                          const Icon = item.icon;\n                          const isActive = pathname === item.href;\n                          const isMessages = item.href === \"/messages\";\n                          const hasNotifications = isMessages && notifications.totalUnread > 0;\n                          return (\n                            <Link\n                              key={item.href}\n                              href={item.href}\n                              className={`flex items-start gap-3 p-3 rounded-xl transition-all ${isActive\n                                ? \"bg-[var(--primary)]/10\"\n                                : \"hover:bg-[var(--surface2)]\"\n                                }`}\n                            >\n                              <div className={`relative mt-0.5 p-1.5 rounded-lg ${isActive ? \"bg-[var(--primary)] text-white\" : \"bg-[var(--surface2)] text-[var(--muted)]\"}`}>\n                                <Icon className=\"w-4 h-4\" />\n                                {hasNotifications && (\n                                  <span className=\"absolute -top-1 -right-1 min-w-[16px] h-4 px-1 rounded-full bg-gradient-to-r from-rose-500 to-pink-500 text-white text-[10px] font-bold flex items-center justify-center\">\n                                    {notifications.totalUnread > 9 ? \"9+\" : notifications.totalUnread}\n                                  </span>\n                                )}\n                              </div>\n                              <div className=\"flex-1\">\n                                <div className={`text-sm font-bold ${isActive ? \"text-[var(--primary)]\" : \"text-[var(--text)]\"} flex items-center gap-2`}>\n                                  {item.label}\n                                  {hasNotifications && (\n                                    <span className=\"text-[10px] font-medium text-rose-500\">New</span>\n                                  )}\n                                </div>\n                                <div className=\"text-[10px] text-[var(--muted)] leading-tight mt-0.5\">\n                                  {item.description}\n                                </div>\n                              </div>\n                            </Link>\n                          );\n                        })}\n                        {/* Sign Out button in Platform dropdown */}\n                        {group.label === \"Platform\" && session && (\n                          <>\n                            <div className=\"my-1 border-t border-[var(--border)]\"></div>\n                            <button\n                              onClick={() => signOut({ callbackUrl: \"/login\" })}\n                              className=\"flex items-start gap-3 p-3 rounded-xl transition-all hover:bg-rose-50 dark:hover:bg-rose-950/20 w-full text-left\"\n                            >\n                              <div className=\"mt-0.5 p-1.5 rounded-lg bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400\">\n                                <LogOut className=\"w-4 h-4\" />\n                              </div>\n                              <div>\n                                <div className=\"text-sm font-bold text-rose-600 dark:text-rose-400\">\n                                  Sign Out\n                                </div>\n                                <div className=\"text-[10px] text-[var(--muted)] leading-tight mt-0.5\">\n                                  Log out of your account\n                                </div>\n                              </div>\n                            </button>\n                          </>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )})}\n            </div>\n\n            {/* Right Section: Get Help + Theme Toggle + Auth */}\n            <div className=\"flex items-center gap-3\">\n              {/* Get Help Button - High visibility with black text on red */}\n              <Link\n                href=\"/crisis\"\n                className=\"hidden sm:inline-flex items-center gap-1.5 px-4 py-2 rounded-full bg-rose-500 text-sm font-bold shadow-lg shadow-rose-500/30 hover:shadow-rose-500/50 hover:bg-rose-600 transition-all border-2 border-rose-600\"\n                style={{ color: '#000000' }}\n              >\n                <Phone className=\"w-3.5 h-3.5\" style={{ color: '#000000' }} />\n                <span style={{ color: '#000000' }}>Get Help</span>\n              </Link>\n\n              {/* Theme Toggle - Clear icons with labels */}\n              {session && (\n                <button\n                  onClick={toggleTheme}\n                  className=\"inline-flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg transition-colors bg-[var(--surface2)] hover:bg-[var(--surface)] border border-[var(--border)] text-[var(--text)]\"\n                  aria-label=\"Toggle theme\"\n                  title={theme === \"light\" ? \"Switch to Dark Mode\" : \"Switch to Light Mode\"}\n                >\n                  {theme === \"light\" ? (\n                    <>\n                      <Moon className=\"w-4 h-4 text-slate-600\" />\n                      <span className=\"hidden xl:inline text-xs font-medium\">Dark</span>\n                    </>\n                  ) : (\n                    <>\n                      <Sun className=\"w-4 h-4 text-amber-400\" />\n                      <span className=\"hidden xl:inline text-xs font-medium\">Light</span>\n                    </>\n                  )}\n                </button>\n              )}\n\n              {/* Mobile Menu Button */}\n              <button\n                className=\"lg:hidden p-2 rounded-md hover:bg-[var(--surface2)] text-[var(--text)]\"\n                onClick={() => setMobileOpen(!mobileOpen)}\n                aria-label=\"Toggle menu\"\n              >\n                {mobileOpen ? <X className=\"h-6 w-6\" /> : <Menu className=\"h-6 w-6\" />}\n              </button>\n            </div>\n          </div>\n\n          {/* Mobile Menu */}\n          {mobileOpen && (\n            <div className=\"lg:hidden border-t border-[var(--border)] bg-[var(--surface)] py-4 px-2 space-y-4 max-h-[80vh] overflow-y-auto\">\n              {/* Mobile Get Help Button - High visibility with black text on red */}\n              <Link\n                href=\"/crisis\"\n                className=\"flex items-center justify-center gap-2 mx-2 px-4 py-3 rounded-xl bg-rose-500 font-bold shadow-lg shadow-rose-500/30 border-2 border-rose-600\"\n                onClick={() => setMobileOpen(false)}\n                style={{ color: '#000000' }}\n              >\n                <Phone className=\"w-5 h-5\" style={{ color: '#000000' }} />\n                <span style={{ color: '#000000' }}>Get Help Now</span>\n              </Link>\n\n              <Link\n                href=\"/\"\n                className={`block px-4 py-2 rounded-xl text-base font-bold transition-colors ${pathname === \"/\" ? \"bg-[var(--primary)] text-white\" : \"text-[var(--text)]\"}`}\n                onClick={() => setMobileOpen(false)}\n              >\n                Home\n              </Link>\n\n              {NAV_GROUPS.map((group) => {\n                const isCommunityGroup = group.label === \"Community\";\n                const hasGroupNotification = isCommunityGroup && notifications.totalUnread > 0;\n                return (\n                <div key={group.label} className=\"space-y-2\">\n                  <div className=\"px-4 text-[10px] font-black uppercase tracking-widest text-[var(--muted)] opacity-50 flex items-center gap-2\">\n                    {group.label}\n                    {hasGroupNotification && (\n                      <span className=\"min-w-[18px] h-[18px] px-1 rounded-full bg-gradient-to-r from-rose-500 to-pink-500 text-white text-[10px] font-bold flex items-center justify-center\">\n                        {notifications.totalUnread > 9 ? \"9+\" : notifications.totalUnread}\n                      </span>\n                    )}\n                  </div>\n                  <div className=\"grid gap-1\">\n                    {group.items.map((item) => {\n                      const Icon = item.icon;\n                      const isActive = pathname === item.href;\n                      const isMessages = item.href === \"/messages\";\n                      const hasNotifications = isMessages && notifications.totalUnread > 0;\n                      return (\n                        <Link\n                          key={item.href}\n                          href={item.href}\n                          className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${isActive ? \"bg-[var(--primary)] text-white\" : \"hover:bg-[var(--surface2)] text-[var(--text)]\"}`}\n                          onClick={() => setMobileOpen(false)}\n                        >\n                          <div className=\"relative\">\n                            <Icon className=\"w-5 h-5\" />\n                            {hasNotifications && (\n                              <span className=\"absolute -top-1 -right-1 min-w-[14px] h-3.5 px-0.5 rounded-full bg-gradient-to-r from-rose-500 to-pink-500 text-white text-[9px] font-bold flex items-center justify-center\">\n                                {notifications.totalUnread > 9 ? \"9+\" : notifications.totalUnread}\n                              </span>\n                            )}\n                          </div>\n                          <span className=\"font-bold flex-1\">{item.label}</span>\n                          {hasNotifications && (\n                            <span className=\"text-[10px] font-medium text-rose-500 dark:text-rose-400\">New</span>\n                          )}\n                        </Link>\n                      );\n                    })}\n                  </div>\n                </div>\n              )})}\n\n              {/* Mobile Theme Toggle + Sign Out */}\n              {session && (\n                <div className=\"border-t border-[var(--border)] mt-2 pt-4 flex flex-col gap-2\">\n                  <button\n                    onClick={toggleTheme}\n                    className=\"flex items-center gap-3 px-4 py-3 rounded-xl text-base font-semibold transition-colors bg-[var(--surface2)] hover:bg-[var(--surface)] text-[var(--text)] w-full\"\n                  >\n                    {theme === \"light\" ? (\n                      <Moon className=\"w-5 h-5 text-slate-600\" />\n                    ) : (\n                      <Sun className=\"w-5 h-5 text-amber-400\" />\n                    )}\n                    <span>{theme === \"light\" ? \"Switch to Dark Mode\" : \"Switch to Light Mode\"}</span>\n                  </button>\n                  <button\n                    onClick={() => signOut({ callbackUrl: \"/login\" })}\n                    className=\"flex items-center gap-3 px-4 py-3 rounded-xl text-base font-semibold transition-colors text-rose-600 bg-rose-50 dark:bg-rose-950/20 hover:bg-rose-100 dark:hover:bg-rose-950/30 w-full\"\n                  >\n                    <LogOut className=\"w-5 h-5\" />\n                    <span>Sign Out</span>\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </nav>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 927, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport { SessionProvider as NextAuthSessionProvider } from \"next-auth/react\";\nimport { ReactNode, useState } from \"react\";\nimport { ThemeProvider } from \"./theme-provider\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"react-hot-toast\";\n\nfunction makeQueryClient() {\n  return new QueryClient({\n    defaultOptions: {\n      queries: {\n        staleTime: 1000 * 60 * 5, // 5 minutes\n        gcTime: 1000 * 60 * 10, // 10 minutes\n      },\n    },\n  });\n}\n\nlet browserQueryClient: QueryClient | undefined = undefined;\n\nfunction getQueryClient() {\n  if (typeof window === \"undefined\") {\n    // Server: always make a new query client\n    return makeQueryClient();\n  } else {\n    // Browser: make a new query client if we don't already have one\n    if (!browserQueryClient) browserQueryClient = makeQueryClient();\n    return browserQueryClient;\n  }\n}\n\nexport function SessionProvider({ children }: Readonly<{ children: ReactNode }>) {\n  const queryClient = getQueryClient();\n  \n  return (\n    <QueryClientProvider client={queryClient}>\n      <NextAuthSessionProvider>\n        <ThemeProvider>\n          {children}\n        </ThemeProvider>\n        <Toaster\n          position=\"top-right\"\n          toastOptions={{\n            duration: 4000,\n            style: {\n              background: \"var(--bg-surface)\",\n              color: \"var(--text-primary)\",\n              border: \"1px solid var(--border-light)\",\n              borderRadius: \"var(--radius-md)\",\n            },\n          }}\n        />\n      </NextAuthSessionProvider>\n    </QueryClientProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAAA;AACA;AANA;;;;;;AAQA,SAAS;IACP,OAAO,IAAI,+LAAW,CAAC;QACrB,gBAAgB;YACd,SAAS;gBACP,WAAW,OAAO,KAAK;gBACvB,QAAQ,OAAO,KAAK;YACtB;QACF;IACF;AACF;AAEA,IAAI,qBAA8C;AAElD,SAAS;IACP;;SAGO;QACL,gEAAgE;QAChE,IAAI,CAAC,oBAAoB,qBAAqB;QAC9C,OAAO;IACT;AACF;AAEO,SAAS,gBAAgB,EAAE,QAAQ,EAAqC;IAC7E,MAAM,cAAc;IAEpB,qBACE,6LAAC,gNAAmB;QAAC,QAAQ;kBAC3B,cAAA,6LAAC,oKAAuB;;8BACtB,6LAAC,oJAAa;8BACX;;;;;;8BAEH,6LAAC,qKAAO;oBACN,UAAS;oBACT,cAAc;wBACZ,UAAU;wBACV,OAAO;4BACL,YAAY;4BACZ,OAAO;4BACP,QAAQ;4BACR,cAAc;wBAChB;oBACF;;;;;;;;;;;;;;;;;AAKV;KAxBgB"}},
    {"offset": {"line": 1014, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/ProfileGuard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSession } from \"next-auth/react\";\nimport { useRouter, usePathname } from \"next/navigation\";\nimport { useEffect } from \"react\";\n\nconst PUBLIC_PATHS = [\n  \"/login\",\n  \"/register\",\n  \"/onboarding\",\n  \"/error\",\n  \"/forgot-password\",\n  \"/reset-password\",\n  \"/verify-email\",\n  \"/disclaimer\",\n  \"/privacy\",\n  \"/terms\",\n  \"/about\",\n  \"/crisis\",\n];\n\nexport function ProfileGuard({ children }: { children: React.ReactNode }) {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n  const pathname = usePathname();\n\n  useEffect(() => {\n    if (status === \"loading\") return;\n\n    const isPublicPath = PUBLIC_PATHS.some(\n      (path) => pathname === path || pathname.startsWith(path + \"/\")\n    );\n\n    if (isPublicPath) return;\n\n    if (session?.user && !(session.user as any).profileComplete) {\n      router.push(\"/onboarding\");\n    }\n  }, [session, status, pathname, router]);\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMA,MAAM,eAAe;IACnB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACtE,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,+JAAU;IAC5C,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,oJAAW;IAE5B,IAAA,0KAAS;kCAAC;YACR,IAAI,WAAW,WAAW;YAE1B,MAAM,eAAe,aAAa,IAAI;uDACpC,CAAC,OAAS,aAAa,QAAQ,SAAS,UAAU,CAAC,OAAO;;YAG5D,IAAI,cAAc;YAElB,IAAI,SAAS,QAAQ,CAAC,AAAC,QAAQ,IAAI,CAAS,eAAe,EAAE;gBAC3D,OAAO,IAAI,CAAC;YACd;QACF;iCAAG;QAAC;QAAS;QAAQ;QAAU;KAAO;IAEtC,qBAAO;kBAAG;;AACZ;GApBgB;;QACoB,+JAAU;QAC7B,kJAAS;QACP,oJAAW;;;KAHd"}}]
}