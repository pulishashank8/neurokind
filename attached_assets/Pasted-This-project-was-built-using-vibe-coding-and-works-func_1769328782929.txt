This project was built using vibe coding and works functionally, but it may contain architectural weaknesses, security gaps, performance bottlenecks, and dependency risks. I want you to analyze it as a senior production engineer responsible for making it safe, scalable, and reliable for 100,000+ users.

Your goals:

1) Architecture Review
Analyze the current backend + frontend architecture and identify:
- Tight coupling
- Missing separation of concerns
- API patterns that will fail at scale
- Shared state or blocking logic
- Server actions that mix business logic and transport concerns
Propose minimal structural improvements that preserve existing behavior.

2) Scalability & Performance
Assume 100,000 concurrent users.
Check for:
- N+1 database queries
- Unbounded queries
- Missing pagination and limits
- Inefficient API responses
- Over-fetching data
- Blocking server actions
- Long-running requests without timeouts
Ensure APIs are cache-friendly, idempotent where appropriate, and horizontally scalable.

3) Security Hardening
Audit the system for:
- Authentication bypass risks
- Authorization gaps (especially community posts, comments, moderation actions)
- Insecure direct object references (IDOR)
- Injection risks (SQL, XSS, command injection)
- CSRF vulnerabilities
- Insecure API exposure
- Missing input validation and schema enforcement
- Sensitive data leakage in responses or logs
- Excessive error detail returned to clients
- Client-side trust of security-sensitive decisions

4) Abuse, Bot, and Anti-Scraping Protection
Implement protections against:
- Bot scraping
- Automated account creation
- API abuse
- Comment and post spam
- Brute-force actions (login, reset, posting)
- Enumeration attacks (usernames, IDs)

Use:
- Rate limiting (lightweight, free-tier friendly)
- Request shape validation
- Behavior-based throttling
- Sensible public vs private API boundaries
- Soft-fail protections rather than hard crashes

5) Data Integrity & Consistency
Check for:
- Missing database constraints
- Non-atomic write operations
- Partial writes that can corrupt state
- Race conditions on likes, comments, counts, or moderation actions
- Derived fields that can drift from source-of-truth
Ensure correctness under concurrent writes.

6) Dependency & Supply Chain Safety
Check:
- Outdated or vulnerable dependencies
- Unused packages
- Over-dependence on client-side logic
- Missing lockfile protections
- Packages with known security or maintenance risks
Recommend cleanup without breaking the app.

7) Reliability & Observability
Add:
- Defensive error handling on all APIs
- Consistent API error response shapes
- Server-side logging for failures and suspicious behavior
- Client-side error boundaries
- Fail-safe behavior (no blank responses, no silent crashes)
- Explicit handling for upstream failures (DB, email, auth)

8) Testing & Verification (Critical)
Assess current test coverage and gaps:
- Unit tests for business logic
- API-level tests for community, posting, commenting, messaging
- Authorization tests (what a user must NOT be able to do)
- Negative tests (invalid input, expired sessions, rate limits)
- Regression risks for existing features
Propose minimal, high-value tests that reduce production risk without overengineering.

9) Production Readiness & Compliance Mindset
Ensure:
- APIs never return empty or malformed JSON
- Frontend never assumes success blindly
- Graceful degradation under load
- No single failure takes down the app
- Clear auditability of sensitive actions
- Behavior is appropriate for a healthcare-adjacent system (trust, safety, uptime)

Deliverables:
- List of real risks found (not hypothetical)
- Exact files and lines where issues exist
- Clear fixes with reasoning
- Confirmation that fixes do not alter business logic
- Identification of anything that MUST be fixed before production
- Final checklist proving readiness for 100,000+ users

Treat this as a real healthcare-adjacent production system where trust, safety, and uptime matter.
If you are unsure about a change, ASK before implementing.